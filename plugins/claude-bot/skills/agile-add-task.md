---
name: agile-add-task
description: 用户随时添加任务并指定优先级
version: 2.0.0
---

# Agile Add Task - 添加任务

## 任务

解析用户输入的任务描述和优先级，创建任务卡片，更新项目状态。

---

## 执行流程

### 第一步：解析用户输入

用户输入格式示例：
- `p0: 实现用户登录功能`
- `P1: 添加数据导出功能`
- `实现文件上传功能`（默认 P2）

提取：
- 优先级（P0-P3）
- 任务描述

### 第二步：创建任务卡片

1. 读取当前迭代编号
2. 生成任务 ID（TASK-001, TASK-002...）
3. 创建任务文件：`projects/active/iterations/{iteration}/tasks/TASK-XXX.md`
4. 更新状态文件：`status.json`

### 第三步：确认创建成功

输出任务 ID 和文件路径。

---

## 输出结果

```
✅ 解析成功: 优先级=P0, 描述=实现用户登录功能
✅ 任务已创建: TASK-001
   文件: projects/active/iterations/1/tasks/TASK-001.md
✅ 状态文件已更新
```

---

## 注意事项

1. 优先级大小写不敏感（p0 或 P0 都可以）
2. 未指定优先级默认为 P2
3. 任务会自动添加到待办列表
